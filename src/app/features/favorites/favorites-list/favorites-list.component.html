<div class="flex flex-col items-center justify-start p-4 w-full">

  <div class="w-full max-w-2xl mb-8">
    <app-search-input (factSelected)="onFactSelectedFromSearch($event)"></app-search-input>
  </div>

  <mat-card *ngIf="selectedFactForView" class="w-full max-w-2xl mb-8 p-6
           rounded-2xl shadow-xl border border-primary-200 bg-primary-50
           transform transition-all duration-300 ease-in-out hover:shadow-2xl">
    <mat-card-content class="text-center">
      <p class="text-lg md:text-xl font-semibold text-primary-800 leading-relaxed italic"> Selected Fact: "{{
        selectedFactForView.text }}"
      </p>
      <p class="text-sm text-text-muted mt-2">Saved on: {{ selectedFactForView.savedDate | date:'medium' }}</p>
    </mat-card-content>
    <mat-card-actions class="flex justify-center mt-4 space-x-4">
      <button mat-button color="primary" (click)="clearSelectedFactView()" class="rounded-full">Clear View</button>
      <button mat-raised-button color="warn" (click)="onRemoveFavorite(selectedFactForView.id)"
        aria-label="Remove selected fact from favorites" class="rounded-full">
        <mat-icon class="mr-2">delete</mat-icon> Remove
      </button>
    </mat-card-actions>
  </mat-card>

  <h2 class="text-2xl font-bold text-text-dark mb-4">Your Favorite Facts</h2>
  <div *ngIf="(hasFavorites$ | async) === false" ...>...</div>

  <div *ngIf="hasFavorites$ | async" class="w-full max-w-2xl">
    <app-favorite-item *ngFor="let fact of favorites$ | async" [fact]="fact" (remove)="onRemoveFavorite($event)"
      class="block mb-3"></app-favorite-item>
  </div>
</div>
